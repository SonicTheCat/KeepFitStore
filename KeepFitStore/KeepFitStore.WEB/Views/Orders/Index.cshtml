@using KeepFitStore.Models.ViewModels.Orders

@model IEnumerable<IndexOrdersViewModel>
@{
    ViewData["Title"] = "All My Orders";
}

<h1 class="mt-3">My orders</h1>
@if (this.Model.Count() == 0)
{
    <div class="shadow text-center p-4">
        <h3 class="text-secondary p-4">No orders have been made from this account!</h3>
    </div>
}
else
{
    <div class="d-flex justify-content-end mb-2 mr-2">
        <select id="sortOptions" class="form-control-sm">
            <option selected disabled>--- Order By ---</option>
            <option value="Id">Id</option>
            <option value="TotalPrice">Price(low to high)</option>
            <option value="TotalPriceDesc">Price(high to low)</option>
            <option value="OrderDateDesc">Newest</option>
            <option value="OrderDate">Oldest</option>
        </select>
    </div>
    <table class="table table-responsive-sm">
        <partial name="~/Views/Partials/_MyOrdersPartial.cshtml"/>
    </table>
}

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        $().ready(function () {
            attachClickDetailsEventListener();
            attachOnChangeSortEventLister(); 
        });
    </script>
}