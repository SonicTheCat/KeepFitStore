@using KeepFitStore.Models.ViewModels.Basket

@model IEnumerable<IndexBasketViewModel>
@{
    ViewData["Title"] = "Your Basket";
    var plural = "s"; 
}

<h1 class="mt-3">Your Basket</h1>
@if (Model.Count() == 0)
{
    <div class="shadow text-center p-4">
        <h3 class="text-secondary p-4">You have no products in your basket.</h3>
    </div>
}
else
{
    @foreach (var item in Model)
    {
        <div class="row border rounded pb-2 pt-2 mt-2 mb-2">
            <div class="col-xl-2 col-lg-2 col-md-4 col-sm-7 col-8 m-1">
                <img src="@item.Product.ImageUrl" class="img-fluid border" alt="Responsive image">
            </div>
            <div class="col-xl-3 col-lg-3 col-md-4 col-sm-7 col-12 m-1">
                <a asp-area="Products" asp-controller="@(item.Product.ProductType.ToString() + @plural)" asp-action="Details" asp-route-id="@item.Product.Id">
                    <h6><ins>@item.Product.Name @item.Product.ProductType.ToString() &pound;@item.Product.Price</ins></h6>
                </a>
            </div>
            <div class="col-xl-2 col-lg-2 col-md-8 col-sm-10 col-12 m-1">
                <div class="input-group">
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default btn-sm btn-number" disabled="disabled" data-type="minus" data-field="quant[1]">
                            <span> <i class='fas fa-minus'></i></span>
                        </button>
                    </span>
                    <input type="number" id="quantity" name="quantity" value="1" min="1" max="10">
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default btn-sm btn-number" data-type="minus" data-field="quant[1]">
                            <span><i class='fas fa-plus'></i></span>
                        </button>
                    </span>
                </div>
            </div>
            <div class="col-xl-2 col-lg-2 col-md-2 col-sm-8 col-8">
                <h6>Total Price:<br /> &pound;@(item.Product.Price * item.Quantity)</h6>
            </div>
            <div class="col-xl-2 col-lg-2 col-md-2 col-sm-8 col-8">
                <a href="#" class="btn btn-link btn-sm btn-danger">Remove</a>
            </div>
        </div>
    }
    <div class="text-center pt-1 pb-1 mt-4 mb-4">
        <a href="#" class="btn btn-warning col-xl-8">Check out</a>
    </div>
}
